<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin - Create Mailout - Luxe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style type="text/tailwindcss">
        body {
            @apply bg-gradient-to-br from-slate-900 to-slate-800 text-gray-200 font-sans min-h-screen flex items-center justify-center p-4;
        }
        .container {
            @apply bg-slate-800 bg-opacity-60 backdrop-blur-lg shadow-2xl rounded-xl p-8 md:p-10 w-full max-w-3xl;
        }
        h1 {
            @apply text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-green-400 via-emerald-500 to-teal-500 mb-3 text-center;
        }
        .subtitle-link {
            @apply block text-center text-sky-400 hover:text-sky-300 transition-colors duration-200 mb-10;
        }
        label {
            @apply block text-sm font-medium text-slate-300 mb-1.5;
        }
        input[type="text"],
        input[type="datetime-local"],
        input[type="number"],
        textarea,
        select {
            @apply mt-1 block w-full px-4 py-2.5 bg-slate-700 bg-opacity-50 border border-slate-600 rounded-lg shadow-sm text-slate-100 
                   placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 
                   transition-all duration-200 ease-in-out;
        }
        textarea {
            @apply h-28;
        }
        select[multiple] {
            @apply h-36;
        }
        input:focus, textarea:focus, select:focus {
            @apply transform scale-[1.01];
        }
        .form-actions {
            @apply mt-10 text-right;
        }
        .button-primary {
            @apply inline-flex justify-center py-3 px-6 border border-transparent shadow-lg text-sm font-medium rounded-md text-white 
                   bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 
                   focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-emerald-500 
                   transition-all duration-300 ease-in-out transform hover:scale-105 hover:-translate-y-0.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Craft New Mailout</h1>
        <a href="/admin/mailouts" class="subtitle-link">&larr; Or return to Mailout Operations</a>

        <form action="/admin/mailouts/create" method="post" class="space-y-6">
            <div>
                <label for="text_message">Message Content:</label>
                <textarea id="text_message" name="text_message" rows="4" required placeholder="Enter your compelling message here..."></textarea>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label for="start_at">Campaign Start Time:</label>
                    <input type="datetime-local" id="start_at" name="start_at" required class="appearance-none">
                </div>
                <div>
                    <label for="finish_at">Campaign End Time:</label>
                    <input type="datetime-local" id="finish_at" name="finish_at" required class="appearance-none">
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label for="local_time_start_hour">Local Start Hour (0-23, optional):</label>
                    <input type="number" id="local_time_start_hour" name="local_time_start_hour" min="0" max="23" placeholder="e.g., 9">
                </div>
                <div>
                    <label for="local_time_end_hour">Local End Hour (0-23, optional):</label>
                    <input type="number" id="local_time_end_hour" name="local_time_end_hour" min="0" max="23" placeholder="e.g., 17">
                </div>
            </div>

            <div>
                <label for="tag_ids">Target Audience by Tags:</label>
                <select id="tag_ids" name="tag_ids" multiple>
                    {% for tag in tags %}
                    <option value="{{ tag.id }}" class="py-1 px-2 hover:bg-emerald-500">{{ tag.tag }}</option>
                    {% endfor %}
                </select>
            </div>

            <div>
                <label for="phone_code_ids">Target Audience by Phone Codes:</label>
                <select id="phone_code_ids" name="phone_code_ids" multiple>
                    {% for pc in phone_codes %}
                    <option value="{{ pc.id }}" class="py-1 px-2 hover:bg-emerald-500">{{ pc.phone_code }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-actions">
                <button type="submit" class="button-primary">Launch Mailout Campaign</button>
            </div>
        </form>
    </div>
</body>
</html> 